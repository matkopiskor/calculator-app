(this["webpackJsonpcalculator-app"]=this["webpackJsonpcalculator-app"]||[]).push([[0],{10:function(e,t,r){e.exports={button:"styles_button__2FVvv",symbol:"styles_symbol__3qmUQ",action:"styles_action___8mOm"}},22:function(e,t,r){e.exports={calculator:"styles_calculator__3RzDR"}},3:function(e,t,r){e.exports={keyboard:"styles_keyboard__UBG-g",firstSegment:"styles_firstSegment__2YLTh",secondSegment:"styles_secondSegment__24tj5",thirdAndFourthSegment:"styles_thirdAndFourthSegment__1BGN6",thirdSegment:"styles_thirdSegment__2ruER",fourthSegment:"styles_fourthSegment__zy299"}},47:function(e,t,r){},48:function(e,t,r){"use strict";r.r(t);var n=r(1),s=r.n(n),c=r(19),a=r.n(c),l=r(9),o=r.n(l),i=r(20),b=r(7),u=r(21),p=r.n(u),j=r(0),y=Object(n.createContext)({}),m=function(e){var t=e.children,r=Object(n.useState)(""),s=Object(b.a)(r,2),c=s[0],a=s[1],l=Object(n.useState)(0),o=Object(b.a)(l,2),i=o[0],u=o[1],p=Object(n.useState)(!1),m=Object(b.a)(p,2),d=m[0],f=m[1];return Object(j.jsx)(y.Provider,{value:{expression:c,setExpression:a,cursorPosition:i,setCursorPosition:u,error:d,setError:f},children:t})},d=r(6),f=r.n(d),O=function(e){var t=e.value,r=e.cursorPosition,s=e.error,c=Object(n.createRef)(),a=Object(n.useCallback)((function(e){e.target.focus()}),[]);return Object(n.useEffect)((function(){var e;null===(e=c.current)||void 0===e||e.setSelectionRange(r,r)}),[r,c]),Object(j.jsxs)("div",{className:f.a.display,children:[Object(j.jsx)("input",{ref:c,type:"text",placeholder:"Try me...",className:f.a.displayInput,autoFocus:!0,onBlur:a,value:t,onChange:function(){}}),s&&Object(j.jsx)("span",{className:f.a.error,children:"ERROR!"})]})},h=r(3),x=r.n(h),_=[{type:"symbol",label:"("},{type:"symbol",label:")"},{type:"action",label:"<-",actionKey:"MOVE_LEFT"},{type:"action",label:"->",actionKey:"MOVE_RIGHT"}],v=[{type:"symbol",label:"/"},{type:"symbol",label:"*"},{type:"symbol",label:"-"},{type:"symbol",label:"+"}],g=[{type:"symbol",label:"7"},{type:"symbol",label:"8"},{type:"symbol",label:"9"},{type:"symbol",label:"4"},{type:"symbol",label:"5"},{type:"symbol",label:"6"},{type:"symbol",label:"1"},{type:"symbol",label:"2"},{type:"symbol",label:"3"},{type:"action",label:"C",actionKey:"RESET"},{type:"symbol",label:"0"},{type:"symbol",label:"."}],C=[{type:"action",label:"DEL",actionKey:"DELETE"},{type:"action",label:"=",actionKey:"CALC"}],E=r(10),k=r.n(E),S=function(e){var t=e.button,r=e.performAction,s=Object(n.useCallback)((function(){var e="action"===t.type?t.actionKey:void 0;r(t.type,t.label,e)}),[t,r]);return Object(j.jsx)("div",{onClick:s,className:"".concat(k.a.button," ").concat(k.a[t.type]),children:t.label})},R=function(e){var t=e.performAction;return Object(j.jsxs)("div",{className:x.a.keyboard,children:[Object(j.jsx)("div",{className:x.a.firstSegment,children:_.map((function(e,r){return Object(j.jsx)(S,{button:e,performAction:t},r)}))}),Object(j.jsx)("div",{className:x.a.secondSegment,children:v.map((function(e,r){return Object(j.jsx)(S,{button:e,performAction:t},r)}))}),Object(j.jsxs)("div",{className:x.a.thirdAndFourthSegment,children:[Object(j.jsx)("div",{className:x.a.thirdSegment,children:g.map((function(e,r){return Object(j.jsx)(S,{button:e,performAction:t},r)}))}),Object(j.jsx)("div",{className:x.a.fourthSegment,children:C.map((function(e,r){return Object(j.jsx)(S,{button:e,performAction:t},r)}))})]})]})},A=r(22),N=r.n(A),T=function(){var e=function(){var e=Object(n.useContext)(y),t=e.expression,r=e.setExpression,s=e.cursorPosition,c=e.setCursorPosition,a=e.error,l=e.setError,b=Object(n.useCallback)((function(){0!==s&&c(s-1)}),[s,c]),u=Object(n.useCallback)((function(){s!==t.length&&c(s+1)}),[s,t.length,c]),j=Object(n.useCallback)((function(e,n){if(n&&n!==t.length){if(n<t.length){var s=t.substring(0,n),a=t.substring(n);r(s+e+a),c(n+1)}}else{var l=t.length;r(t+e),c(l+1)}}),[t,c,r]),m=Object(n.useCallback)((function(){r(""),c(0)}),[c,r]),d=Object(n.useCallback)((function(e){if(e&&e!==t.length){if(0!==e){var n=t.substring(0,e-1),s=t.substring(e);r(n+s),c(e-1)}}else{var a=t.length;r(t.slice(0,-1)),c(a-1)}}),[t,c,r]),f=Object(n.useCallback)((function(e){r(e),c(e.length)}),[c,r]),O=Object(n.useCallback)((function(e){return encodeURIComponent(e)}),[]),h=Object(n.useCallback)(Object(i.a)(o.a.mark((function e(){var r,n,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===t){e.next=14;break}return r=O(t),n="https://api.mathjs.org/v4/?expr="+r,e.prev=3,e.next=6,p.a.get(n);case 6:s=e.sent,f(s.data.toString()),l(!1),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),l(!0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])}))),[O,t,l,f]),x=Object(n.useCallback)((function(){l(!1)}),[l]);return{expression:t,updateValue:j,clearValue:m,deleteSymbol:d,calculateExpression:h,cursorPosition:s,moveCursorLeft:b,moveCursorRight:u,error:a,clearError:x}}(),t=e.expression,r=e.cursorPosition,s=e.updateValue,c=e.deleteSymbol,a=e.clearValue,l=e.moveCursorLeft,b=e.moveCursorRight,u=e.calculateExpression,m=e.error,d=e.clearError,f=Object(n.useCallback)((function(e,t,n){if(m&&d(),"symbol"===e)s(t,r);else if(n)switch(n){case"DELETE":c(r);break;case"RESET":a();break;case"MOVE_LEFT":l();break;case"MOVE_RIGHT":b();break;case"CALC":u()}}),[u,d,a,r,c,m,l,b,s]);return Object(j.jsxs)("div",{className:N.a.calculator,children:[Object(j.jsx)(O,{value:t,cursorPosition:r,error:m}),Object(j.jsx)(R,{performAction:f})]})},L=function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("header",{children:Object(j.jsx)("h1",{children:"Calculator App"})}),Object(j.jsx)("main",{children:Object(j.jsx)(T,{})}),Object(j.jsx)("footer",{children:Object(j.jsx)("span",{children:"Made by: Matko Pi\u0161kor"})})]})};r(47);a.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(m,{children:Object(j.jsx)(L,{})})}),document.getElementById("root"))},6:function(e,t,r){e.exports={display:"styles_display__13RTH",displayInput:"styles_displayInput__3tJuy",error:"styles_error__16NBl"}}},[[48,1,2]]]);
//# sourceMappingURL=main.7accc009.chunk.js.map